
1.0fiap-9soat-snackbar_snackbarJavaFrontend"1745887123585*java2.B¿F
Y
Tsrc/main/java/com/snackbar/payment/infrastructure/controllers/PaymentController.java2

package4
4
/com.snackbar.payment.infrastructure.controllers5
F
Acom.snackbar.payment.infrastructure.controllers.PaymentController7


class8

access9

public10

simple name11

PaymentController12
<
6org.springframework.web.bind.annotation.RestController14

unknown15

annotated by16


uses17
<
6org.springframework.web.bind.annotation.RequestMapping19
\
Vcom.snackbar.payment.infrastructure.controllers.PaymentController.createPaymentUseCase21

field22

private23

createPaymentUseCase24
D
>com.snackbar.payment.application.usecases.CreatePaymentUseCase26

is type27
[
Ucom.snackbar.payment.infrastructure.controllers.PaymentController.listPaymentsUseCase29

listPaymentsUseCase30
C
=com.snackbar.payment.application.usecases.ListPaymentsUseCase32
^
Xcom.snackbar.payment.infrastructure.controllers.PaymentController.createPaymentMPUseCase34

createPaymentMPUseCase35
F
@com.snackbar.payment.application.usecases.CreatePaymentMPUseCase37
X
Rcom.snackbar.payment.infrastructure.controllers.PaymentController.paymentDTOMapper39

paymentDTOMapper40
F
@com.snackbar.payment.infrastructure.controllers.PaymentDTOMapper42
Z
Tcom.snackbar.payment.infrastructure.controllers.PaymentController.paymentMPDTOMapper44

paymentMPDTOMapper45
H
Bcom.snackbar.payment.infrastructure.controllers.PaymentMPDTOMapper47
Q
Kcom.snackbar.payment.infrastructure.controllers.PaymentController.mpService49

	mpService50
3
-com.snackbar.payment.infrastructure.MpService52
]
Wcom.snackbar.payment.infrastructure.controllers.PaymentController.getPaymentByIdUseCase54

getPaymentByIdUseCase55
E
?com.snackbar.payment.application.usecases.GetPaymentByIdUseCase57
j
dcom.snackbar.payment.infrastructure.controllers.PaymentController.updatePaymentExternalIdByIdUseCase59
(
"updatePaymentExternalIdByIdUseCase60
R
Lcom.snackbar.payment.application.usecases.UpdatePaymentExternalIdByIdUseCase62
e
_com.snackbar.payment.infrastructure.controllers.PaymentController.getPaymentByExternalIdUseCase64
#
getPaymentByExternalIdUseCase65
M
Gcom.snackbar.payment.application.usecases.GetPaymentByExternalIdUseCase67
n
hcom.snackbar.payment.infrastructure.controllers.PaymentController.updatePaymentStatusByExternalIdUseCase69
,
&updatePaymentStatusByExternalIdUseCase70
J
Dcom.snackbar.payment.application.usecases.UpdatePaymentStatusWebhook72
æ
ßcom.snackbar.payment.infrastructure.controllers.PaymentController#<init>(Lcom/snackbar/payment/application/usecases/CreatePaymentUseCase;Lcom/snackbar/payment/application/usecases/ListPaymentsUseCase;Lcom/snackbar/payment/application/usecases/CreatePaymentMPUseCase;Lcom/snackbar/payment/infrastructure/controllers/PaymentDTOMapper;Lcom/snackbar/payment/infrastructure/controllers/PaymentMPDTOMapper;Lcom/snackbar/payment/application/usecases/GetPaymentByIdUseCase;Lcom/snackbar/payment/application/usecases/UpdatePaymentExternalIdByIdUseCase;Lcom/snackbar/payment/application/usecases/GetPaymentByExternalIdUseCase;Lcom/snackbar/payment/application/usecases/UpdatePaymentStatusWebhook;Lcom/snackbar/payment/infrastructure/MpService;)V74

method75

	has param76
<
6org.springframework.beans.factory.annotation.Autowired78

calls79


references80
Ç
Àcom.snackbar.payment.infrastructure.controllers.PaymentController#createPayment(Lcom/snackbar/payment/infrastructure/controllers/CreatePaymentRequest;)Lorg/springframework/http/ResponseEntity;82

createPayment83
-
'org.springframework.http.ResponseEntity85

returns86
J
Dcom.snackbar.payment.infrastructure.controllers.CreatePaymentRequest88
9
3org.springframework.web.bind.annotation.PostMapping90
K
Ecom.snackbar.payment.infrastructure.controllers.CreatePaymentResponse92
9
3org.springframework.web.bind.annotation.RequestBody94
0
*com.snackbar.payment.domain.entity.Payment96
Ñ
Êcom.snackbar.payment.infrastructure.controllers.PaymentDTOMapper#createRequestToDomain(Lcom/snackbar/payment/infrastructure/controllers/CreatePaymentRequest;)Lcom/snackbar/payment/domain/entity/Payment;98
®
¦com.snackbar.payment.application.usecases.CreatePaymentUseCase#createPayment(Lcom/snackbar/payment/domain/entity/Payment;)Lcom/snackbar/payment/domain/entity/Payment;100
j
ccom.snackbar.payment.infrastructure.MpService#postMercadoPago(Ljava/lang/Object;)Ljava/lang/String;102
3
,com.snackbar.payment.domain.entity.PaymentMP104
°
¨com.snackbar.payment.infrastructure.controllers.PaymentDTOMapper#toPaymentMP(Lcom/snackbar/payment/domain/entity/Payment;)Lcom/snackbar/payment/domain/entity/PaymentMP;106
!
com.google.gson.JsonObject108
"
com.google.gson.JsonElement110
P
Icom.google.gson.JsonElement#getAsJsonObject()Lcom/google/gson/JsonObject;112
!
com.google.gson.JsonParser114
^
Wcom.google.gson.JsonParser#parseString(Ljava/lang/String;)Lcom/google/gson/JsonElement;116
B
;com.google.gson.JsonElement#getAsString()Ljava/lang/String;118
V
Ocom.google.gson.JsonObject#get(Ljava/lang/String;)Lcom/google/gson/JsonElement;120
Â
ºcom.snackbar.payment.application.usecases.UpdatePaymentExternalIdByIdUseCase#updatePaymentExternalIdById(Ljava/lang/String;Ljava/lang/String;)Lcom/snackbar/payment/domain/entity/Payment;122
Î
Æcom.snackbar.payment.infrastructure.controllers.PaymentDTOMapper#createToResponse(Lcom/snackbar/payment/domain/entity/Payment;)Lcom/snackbar/payment/infrastructure/controllers/CreatePaymentResponse;124
n
gorg.springframework.http.ResponseEntity#ok(Ljava/lang/Object;)Lorg/springframework/http/ResponseEntity;126
€
ycom.snackbar.payment.infrastructure.controllers.PaymentController#listPayments()Lorg/springframework/http/ResponseEntity;128

listPayments129
9
2org.springframework.web.bind.annotation.GetMapping131
I
Bcom.snackbar.payment.infrastructure.controllers.GetPaymentResponse133
c
\com.snackbar.payment.application.usecases.ListPaymentsUseCase#listPayments()Ljava/util/List;135
x
qcom.snackbar.payment.infrastructure.controllers.PaymentDTOMapper#listToResponse(Ljava/util/List;)Ljava/util/List;137
•
com.snackbar.payment.infrastructure.controllers.PaymentController#getPaymentById(Ljava/lang/String;)Lorg/springframework/http/ResponseEntity;139

getPaymentById140
;
4org.springframework.web.bind.annotation.PathVariable142
–
Žcom.snackbar.payment.application.usecases.GetPaymentByIdUseCase#getPaymentById(Ljava/lang/String;)Lcom/snackbar/payment/domain/entity/Payment;144
È
Àcom.snackbar.payment.infrastructure.controllers.PaymentDTOMapper#getToResponse(Lcom/snackbar/payment/domain/entity/Payment;)Lcom/snackbar/payment/infrastructure/controllers/GetPaymentResponse;146
Ì
Äcom.snackbar.payment.infrastructure.controllers.PaymentController#createPaymentMP(Lcom/snackbar/payment/infrastructure/controllers/CreatePaymentMPRequest;)Lorg/springframework/http/ResponseEntity;148

createPaymentMP149
M
Fcom.snackbar.payment.infrastructure.controllers.CreatePaymentMPRequest151
N
Gcom.snackbar.payment.infrastructure.controllers.CreatePaymentMPResponse153
Ø
Ðcom.snackbar.payment.infrastructure.controllers.PaymentMPDTOMapper#createRequestToDomain(Lcom/snackbar/payment/infrastructure/controllers/CreatePaymentMPRequest;)Lcom/snackbar/payment/domain/entity/PaymentMP;155
¶
®com.snackbar.payment.application.usecases.CreatePaymentMPUseCase#createPaymentMP(Lcom/snackbar/payment/domain/entity/PaymentMP;)Lcom/snackbar/payment/domain/entity/PaymentMP;157
Ô
Ìcom.snackbar.payment.infrastructure.controllers.PaymentMPDTOMapper#createToResponse(Lcom/snackbar/payment/domain/entity/PaymentMP;)Lcom/snackbar/payment/infrastructure/controllers/CreatePaymentMPResponse;159

•com.snackbar.payment.infrastructure.controllers.PaymentController#getPaymentByExternalId(Ljava/lang/String;)Lorg/springframework/http/ResponseEntity;161

getPaymentByExternalId162
¦
žcom.snackbar.payment.application.usecases.GetPaymentByExternalIdUseCase#getPaymentByExternalId(Ljava/lang/String;)Lcom/snackbar/payment/domain/entity/Payment;164
ì
äcom.snackbar.payment.infrastructure.controllers.PaymentController#updatePaymentStatusByExternalId(Lcom/snackbar/payment/infrastructure/controllers/UpdatePaymentStatusByExternalIdRequest;)Lorg/springframework/http/ResponseEntity;166
&
updatePaymentStatusByExternalId167
]
Vcom.snackbar.payment.infrastructure.controllers.UpdatePaymentStatusByExternalIdRequest169
;
4org.springframework.web.bind.annotation.PatchMapping171
²
ªcom.snackbar.payment.application.usecases.UpdatePaymentStatusWebhook#updatePaymentStatus(Ljava/lang/String;Ljava/lang/String;)Lcom/snackbar/payment/domain/entity/Payment;173
|
ucom.snackbar.payment.infrastructure.controllers.UpdatePaymentStatusByExternalIdRequest#externalId()Ljava/lang/String;175

xcom.snackbar.payment.infrastructure.controllers.UpdatePaymentStatusByExternalIdRequest#paymentStatus()Ljava/lang/String;177J

1
12Z

3	
354jŸ

107
10710815

141
14114215
D
127=
12712875 *
1K K(26:3B
	
9
10

11
129
@
43:
434422 *
1 (26:3B
	
9
23


11
45
@
73:
737475 *
1   (26:3B
	
9
10


11
12

121
12112215

77
777815

41
414215
@
53:
535422 *
1 (26:3B
	
9
23


11
55
@
63:
636422 *
1 (26:3B
	
9
23


11
65

61
616215
9
64
678 *
1 (:3B
	
9
10


11
12

163
16316415
@
38:
383922 *
1 (26:3B
	
9
23


11
40
@
81:
818275 *
18 8(26:3B
	
9
10


11
83

172
17217315

158
15815915

89
899015
@
33:
333422 *
1 (26:3B
	
9
23


11
35

103
10310415

123
12312415

150
15015115

13
131415

143
14314415
@
48:
484922 *
1 (26:3B
	
9
23


11
50

154
15415515

87
878815

97
979815

134
13413515

91
919215
D
138=
13813975 *
1R R(26:3B
	
9
10

11
140

176
17617715

56
565715

18
181915
@
20:
202122 *
1 (26:3B
	
9
23


11
24
D
147=
14714875 *
1Y Y(26:3B
	
9
10

11
149

36
363715

113
11311415

170
17017115

93
939415

109
10911015
@
28:
282922 *
1 (26:3B
	
9
23


11
30

31
313215

125
12512615
D
165=
16516675 *
1h h(26:3B
	
9
10

11
167

152
15215315

130
13013115

136
13613715

95
959615

46
464715

117
11711815

119
11912015

99
9910015

71
717215

168
16816915

66
666715

156
15615715

174
17417515

115
11511615

132
13213315

25
252615

101
10110215
D
160=
16016175 *
1a a(26:3B
	
9
10

11
162

51
515215
@
68:
686922 *
1 (26:3B
	
9
23


11
70

111
11111215

84
848515

145
14514615
@
58:
585922 *
1 (26:3B
	
9
23


11
60

105
10510615rýE

61316*
1 (

61317*
1 (

61816*
1 (

61817*
1 (

202527*
1 ('

202517*
1 ('

202517*
1( (<

283127*
1 (&

283117*
1 (&

283117*
1' (:

333627*
1 ()

333617*
1 ()

333617*
1* (@

384127*
1 (#

384117*
1 (#

384117*
1$ (4

434627*
1 (%

434617*
1 (%

434617*
1& (8

485127*
1 (

485117*
1 (

485117*
1 (&

535627*
1 ((

535617*
1 ((

535617*
1) (>

586127*
1 (5

586117*
1 (5

586117*
16 (X

636627*
1 (0

636617*
1 (0

636617*
11 (N

687127*
1 (-

687117*
1 (-

687117*
1. (T

732576*
1" "(!

733176*
1# #( 

733676*
1$ $(#

734176*
1% %(

734676*
1& &(

735676*
1' '("

736176*
1( ((/

736676*
1) )(*

737176*
1* *('

735176*
1+ +(

737716*
1   (

737717*
1   (

73679*
1! !(

732527*
1"" "(6

732517*
1" "(!

733127*
1#! #(4

733117*
1# #( 

733627*
1$$ $(:

733617*
1$ $(#

734127*
1% %(.

734117*
1% %(

734627*
1&  &(2

734617*
1& &(

735627*
1'# '(8

735617*
1' '("

736127*
1(0 ((R

736117*
1( ((/

736627*
1)+ )(H

736617*
1) )(*

737127*
1*( *(N

737117*
1* *('

735127*
1+ +( 

735117*
1+ +(

73617*
1,	 ,(

73680*
1,	 ,(

732517*
1, ,("

732080*
1, ,("

73617*
1-	 -(

73680*
1-	 -(

733117*
1- -(!

732880*
1- -(!

73617*
1.	 .(

73680*
1.	 .(

733617*
1. .($

733380*
1. .($

73617*
1/	 /(

73680*
1/	 /(

734117*
1/ /(

733880*
1/ /(

73617*
10	 0(

73680*
10	 0(

734617*
10 0( 

734380*
10 0( 

73617*
11	 1(

73680*
11	 1(

735117*
11 1(

734880*
11 1(

73617*
12	 2(

73680*
12	 2(

735617*
12 2(#

735380*
12 2(#

73617*
13	 3(

73680*
13	 3(

736117*
13 3(0

735880*
13 3(0

73617*
14	 4(

73680*
14	 4(

736617*
14 4(+

736380*
14 4(+

73617*
15	 5(

73680*
15	 5(

737117*
15 5(4

736880*
15 5(4

818486*
19 9(

818776*
19M 9(a

818916*
18 8(

818917*
18 8(

818417*
19 9(

819117*
19 9(0

818727*
19b 9(i

819316*
19@ 9(A

819317*
19A 9(L

818717*
19M 9(a

819527*
1; ;(

819517*
1;	 ;(

819586*
1; ;(+

814180*
1; ;(+

819779*
1;, ;(A

813880*
1; ;(+

814117*
1; ;(+

813880*
1; ;(+

819527*
1< <(

819517*
1<	 <(

819586*
1<" <(6

812580*
1<" <(6

819979*
1<7 <(D

812080*
1<" <(6

812517*
1<" <(6

812080*
1<" <(6

815180*
1= =(

8110179*
1= =(,

814880*
1= =(

815117*
1= =(

814880*
1= =(

8110386*
1=- =(=

814180*
1=- =(=

8110579*
1=> =(I

813880*
1=- =(=

814117*
1=- =(=

813880*
1=- =(=

8110727*
1@ @(

8110717*
1@	 @(

8110786*
1@! @(+

8110980*
1@! @(+

8111179*
1@= @(L

8110986*
1@! @(+

8111380*
1@! @(+

8111579*
1@, @(7

8111317*
1@! @(+

8110980*
1A$ A(.

8111779*
1A9 A(D

8110986*
1A$ A(.

8110780*
1A$ A(.

8111979*
1A/ A(2

8110980*
1B B(&

8111779*
1B8 B(C

8110986*
1B B(&

8110780*
1B B(&

8111979*
1B' B(*

819527*
1D D(

819517*
1D	 D(

819586*
1D" D(D

816180*
1D" D(D

8112179*
1DE D(`

815880*
1D" D(D

816117*
1D" D(D

815880*
1D" D(D

819127*
1G G('

819117*
1G	 G(

819186*
1G* G(:

814180*
1G* G(:

8112379*
1G; G(K

813880*
1G* G(:

814117*
1G* G(:

813880*
1G* G(:

818486*
1H H(

818480*
1H H(

8112579*
1H H(!

1278486*
1L L(

12713016*
1K K(

12713017*
1K K(

1278417*
1L L(

12713217*
1L  L(2

1279517*
1M M(

1273180*
1M/ M(B

12713479*
1MC M(O

1272880*
1M/ M(B

1273117*
1M/ M(B

1272880*
1M/ M(B

12713217*
1N N( 

1274180*
1N- N(=

12713679*
1N> N(L

1273880*
1N- N(=

1274117*
1N- N(=

1273880*
1N- N(=

1278486*
1O O(

1278480*
1O O(

12712579*
1O O(!

1388486*
1S S(

13813016*
1R R(

13813017*
1R R(

1388417*
1S S(

13813217*
1S S(-

13814116*
1S> S(?

13814117*
1S? S(K

1389527*
1T T(!

1389517*
1T	 T(

1389586*
1T$ T(9

1385680*
1T$ T(9

13814379*
1T: T(H

1385380*
1T$ T(9

1385617*
1T$ T(9

1385380*
1T$ T(9

13813227*
1U U($

13813217*
1U	 U(

13813286*
1U' U(7

1384180*
1U' U(7

13814579*
1U8 U(E

1383880*
1U' U(7

1384117*
1U' U(7

1383880*
1U' U(7

1388486*
1V V(

1388480*
1V V(

13812579*
1V V(!

1478486*
1Z Z(

14715076*
1ZQ Z(g

1478916*
1Y Y(

1478917*
1Y Y(

1478417*
1Z Z(

14715217*
1Z Z(2

14715027*
1Zh Z(o

1479316*
1ZD Z(E

1479317*
1ZE Z(P

14715017*
1ZQ Z(g

14710327*
1[ [(

14710317*
1[	 [(

14710386*
1[ [(1

1474680*
1[ [(1

14715479*
1[2 [(G

1474380*
1[ [(1

1474617*
1[ [(1

1474380*
1[ [(1

14710327*
1\ \(#

14710317*
1\	 \(

14710386*
1\& \(<

1473680*
1\& \(<

14715679*
1\= \(L

1473380*
1\& \(<

1473617*
1\& \(<

1473380*
1\& \(<

14715227*
1]! ]()

14715217*
1]	 ]( 

14715286*
1], ](>

1474680*
1], ](>

14715879*
1]? ](O

1474380*
1], ](>

1474617*
1], ](>

1474380*
1], ](>

1478486*
1^ ^(

1478480*
1^ ^(

14712579*
1^ ^(!

1608486*
1b b(

16013016*
1a a(

16013017*
1a a(

1608417*
1b b(

16013217*
1b b(-

16014116*
1bF b(G

16014117*
1bG b(S

1609527*
1c c(!

1609517*
1c	 c(

1609586*
1c$ c(A

1606680*
1c$ c(A

16016379*
1cB c(X

1606380*
1c$ c(A

1606617*
1c$ c(A

1606380*
1c$ c(A

16013227*
1d d($

16013217*
1d	 d(

16013286*
1d' d(7

1604180*
1d' d(7

16014579*
1d8 d(E

1603880*
1d' d(7

1604117*
1d' d(7

1603880*
1d' d(7

1608486*
1e e(

1608480*
1e e(

16012579*
1e e(!

1658486*
1i i(

16516876*
1i\ i(‚

16517016*
1h h(

16517017*
1h h(

1658417*
1i i(

16513217*
1i i(-

16516827*
1iƒ i(Š

1659316*
1iO i(P

1659317*
1iP i([

16516817*
1i\ i(‚

1659527*
1j j(

1659517*
1j	 j(

1659586*
1j" j(H

1657180*
1j" j(H

16517279*
1jI j(\

1656880*
1j" j(H

1657117*
1j" j(H

1656880*
1j" j(H

16516880*
1j] j(d

16517479*
1je j(o

16516880*
1js j(z

16517679*
1j{ j(ˆ

16513227*
1k k($

16513217*
1k	 k(

16513286*
1k' k(7

1654180*
1k' k(7

16514579*
1k8 k(E

1653880*
1k' k(7

1654117*
1k' k(7

1653880*
1k' k(7

1658486*
1l l(

1658480*
1l l(

16512579*
1l l(!