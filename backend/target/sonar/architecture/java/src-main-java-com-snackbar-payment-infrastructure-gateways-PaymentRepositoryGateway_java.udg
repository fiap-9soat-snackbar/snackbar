
1.0fiap-9soat-snackbar_snackbarJavaFrontend"1745887125956*java2.B,
]
Xsrc/main/java/com/snackbar/payment/infrastructure/gateways/PaymentRepositoryGateway.java2

package4
1
,com.snackbar.payment.infrastructure.gateways5
J
Ecom.snackbar.payment.infrastructure.gateways.PaymentRepositoryGateway7


class8

access9

public10

simple name11

PaymentRepositoryGateway12
>
8com.snackbar.payment.application.gateways.PaymentGateway14

unknown15


implements16


uses17
]
Wcom.snackbar.payment.infrastructure.gateways.PaymentRepositoryGateway.paymentRepository19

field20

private21

paymentRepository22
G
Acom.snackbar.payment.infrastructure.persistence.PaymentRepository24

is type25
_
Ycom.snackbar.payment.infrastructure.gateways.PaymentRepositoryGateway.paymentMPRepository27

paymentMPRepository28
I
Ccom.snackbar.payment.infrastructure.persistence.PaymentMPRepository30
_
Ycom.snackbar.payment.infrastructure.gateways.PaymentRepositoryGateway.paymentEntityMapper32

paymentEntityMapper33
F
@com.snackbar.payment.infrastructure.gateways.PaymentEntityMapper35
a
[com.snackbar.payment.infrastructure.gateways.PaymentRepositoryGateway.paymentMPEntityMapper37

paymentMPEntityMapper38
H
Bcom.snackbar.payment.infrastructure.gateways.PaymentMPEntityMapper40
U
Ocom.snackbar.payment.infrastructure.gateways.PaymentRepositoryGateway.mpService42

	mpService43
3
-com.snackbar.payment.infrastructure.MpService45
“
Œcom.snackbar.payment.infrastructure.gateways.PaymentRepositoryGateway#<init>(Lcom/snackbar/payment/infrastructure/persistence/PaymentRepository;Lcom/snackbar/payment/infrastructure/persistence/PaymentMPRepository;Lcom/snackbar/payment/infrastructure/gateways/PaymentEntityMapper;Lcom/snackbar/payment/infrastructure/gateways/PaymentMPEntityMapper;Lcom/snackbar/payment/infrastructure/MpService;)V47

method48

	has param49

calls50


references51
´
­com.snackbar.payment.infrastructure.gateways.PaymentRepositoryGateway#createPayment(Lcom/snackbar/payment/domain/entity/Payment;)Lcom/snackbar/payment/domain/entity/Payment;53

createPayment54
0
*com.snackbar.payment.domain.entity.Payment56

returns57
C
=com.snackbar.payment.infrastructure.persistence.PaymentEntity59
½
¶com.snackbar.payment.infrastructure.gateways.PaymentEntityMapper#toEntity(Lcom/snackbar/payment/domain/entity/Payment;)Lcom/snackbar/payment/infrastructure/persistence/PaymentEntity;61
8
2org.springframework.data.repository.CrudRepository63
c
]org.springframework.data.repository.CrudRepository#save(Ljava/lang/Object;)Ljava/lang/Object;65
À
¹com.snackbar.payment.infrastructure.gateways.PaymentEntityMapper#toDomainObj(Lcom/snackbar/payment/infrastructure/persistence/PaymentEntity;)Lcom/snackbar/payment/domain/entity/Payment;67
j
dcom.snackbar.payment.infrastructure.gateways.PaymentRepositoryGateway#listPayments()Ljava/util/List;69

listPayments70
<
6org.springframework.data.repository.ListCrudRepository72
V
Porg.springframework.data.repository.ListCrudRepository#findAll()Ljava/util/List;74
x
rcom.snackbar.payment.infrastructure.gateways.PaymentEntityMapper#toDomainListObj(Ljava/util/List;)Ljava/util/List;76
º
³com.snackbar.payment.infrastructure.gateways.PaymentRepositoryGateway#createPaymentMP(Lcom/snackbar/payment/domain/entity/PaymentMP;)Lcom/snackbar/payment/domain/entity/PaymentMP;78

createPaymentMP79
2
,com.snackbar.payment.domain.entity.PaymentMP81
E
?com.snackbar.payment.infrastructure.persistence.PaymentMPEntity83
Ã
¼com.snackbar.payment.infrastructure.gateways.PaymentMPEntityMapper#toEntity(Lcom/snackbar/payment/domain/entity/PaymentMP;)Lcom/snackbar/payment/infrastructure/persistence/PaymentMPEntity;85
Æ
¿com.snackbar.payment.infrastructure.gateways.PaymentMPEntityMapper#toDomainObj(Lcom/snackbar/payment/infrastructure/persistence/PaymentMPEntity;)Lcom/snackbar/payment/domain/entity/PaymentMP;87
’
‹com.snackbar.payment.infrastructure.gateways.PaymentRepositoryGateway#webHookExecution(Lcom/snackbar/payment/domain/entity/PaymentStatus;)V89

webHookExecution90
6
0com.snackbar.payment.domain.entity.PaymentStatus92
o
icom.snackbar.payment.infrastructure.MpService#patchBackMercadoPago(Ljava/lang/String;Ljava/lang/Object;)V94
V
Pcom.snackbar.payment.domain.entity.PaymentStatus#callbackURL()Ljava/lang/String;96
›
”com.snackbar.payment.infrastructure.gateways.PaymentRepositoryGateway#getPaymentById(Ljava/lang/String;)Lcom/snackbar/payment/domain/entity/Payment;98

getPaymentById99
j
corg.springframework.data.repository.CrudRepository#findById(Ljava/lang/Object;)Ljava/util/Optional;101
»
³com.snackbar.payment.infrastructure.gateways.PaymentRepositoryGateway#updatePaymentExternalIdById(Ljava/lang/String;Ljava/lang/String;)Lcom/snackbar/payment/domain/entity/Payment;103
"
updatePaymentExternalIdById104
n
gcom.snackbar.payment.infrastructure.persistence.PaymentEntity#setExternalPaymentId(Ljava/lang/String;)V106
¤
œcom.snackbar.payment.infrastructure.gateways.PaymentRepositoryGateway#getPaymentByExternalId(Ljava/lang/String;)Lcom/snackbar/payment/domain/entity/Payment;108

getPaymentByExternalId109
‰
com.snackbar.payment.infrastructure.persistence.PaymentRepository#findByExternalPaymentId(Ljava/lang/String;)Ljava/util/Optional;111
¿
·com.snackbar.payment.infrastructure.gateways.PaymentRepositoryGateway#updatePaymentStatusByExternalId(Ljava/lang/String;Ljava/lang/String;)Lcom/snackbar/payment/domain/entity/Payment;113
&
updatePaymentStatusByExternalId114
j
ccom.snackbar.payment.infrastructure.persistence.PaymentEntity#setPaymentStatus(Ljava/lang/String;)V116J

1
12Z

3	
354j÷

39
394015

73
737415
@
36:
363720 *
1 (26:3B
	
9
21


11
38

82
828315

95
959615

75
757615
D
112=
11211348 *
1d d(26:3B
	
9
10

11
114

62
626315

29
293015
@
68:
686948 *
17 7(26:3B
	
9
10


11
70
@
18:
181920 *
1 (26:3B
	
9
21


11
22
9
64
678 *
1 (&:3B
	
9
10


11
12

60
606115
@
77:
777848 *
1? ?(26:3B
	
9
10


11
79
@
97:
979848 *
1N N(26:3B
	
9
10


11
99
@
52:
525348 *
1- -(26:3B
	
9
10


11
54
@
88:
888948 *
1I I(26:3B
	
9
10


11
90

55
555615
@
26:
262720 *
1 (26:3B
	
9
21


11
28

34
343515

93
939415

64
646515
@
41:
414220 *
1 (26:3B
	
9
21


11
43

84
848515

13
131415

66
666715

80
808115

71
717215

105
10510615

44
444515

58
585915

86
868715

91
919215
D
107=
10710848 *
1] ](26:3B
	
9
10

11
109

115
11511615
D
102=
10210348 *
1T T(26:3B
	
9
10

11
104

23
232415
@
46:
464748 *
1! !(26:3B
	
9
10


11
12

100
10010115

110
11011115
@
31:
313220 *
1 (26:3B
	
9
21


11
33r²0

61316*
12 (@

61317*
12 (@

182325*
1 ($

182317*
1 ($

182317*
1% (6

262925*
1 (&

262917*
1 (&

262917*
1' (:

313425*
1 (&

313417*
1 (&

313417*
1' (:

363925*
1 ((

363917*
1 ((

363917*
1) (>

414425*
1 (

414417*
1 (

414417*
1 (&

462349*
1!% !(6

462949*
1"% "(8

463449*
1#% #(8

463949*
1$% $(:

464449*
1%% %(.

46650*
1! !($

462325*
1!7 !(H

462317*
1!% !(6

462925*
1"9 "(L

462917*
1"% "(8

463425*
1#9 #(L

463417*
1#% #(8

463925*
1$; $(P

463917*
1$% $(:

464425*
1%/ %(8

464417*
1%% %(.

46617*
1&	 &(

46651*
1&	 &(

462317*
1& &(

461851*
1& &(

46617*
1'	 '(

46651*
1'	 '(

462917*
1' '(!

462651*
1' '(!

46617*
1(	 ((

46651*
1(	 ((

463417*
1( ((!

463151*
1( ((!

46617*
1)	 )(

46651*
1)	 )(

463917*
1) )(#

463651*
1) )(#

46617*
1*	 *(

46651*
1*	 *(

464417*
1* *(

464151*
1* *(

525557*
1. .(

525549*
1." .()

525517*
1. .(

525525*
1.* .(:

525517*
1." .()

525825*
10 0($

525817*
10	 0(

525857*
10' 0(:

523451*
10' 0(:

526050*
10; 0(C

523151*
10' 0(:

523417*
10' 0(:

523151*
10' 0(:

525825*
11 1(

525817*
11	 1(

525857*
11" 1(3

526251*
11" 1(3

526450*
114 1(8

521851*
11" 1(3

522317*
11" 1(3

521851*
11" 1(3

525525*
12 2(

525517*
12	 2(

525557*
12" 2(5

523451*
12" 2(5

526650*
126 2(A

523151*
12" 2(5

523417*
12" 2(5

523151*
12" 2(5

685517*
18 8(

685817*
19 9(

687151*
190 9(A

687350*
19B 9(I

681851*
190 9(A

682317*
190 9(A

681851*
190 9(A

685517*
1: :(

683451*
1:/ :(B

687550*
1:C :(R

683151*
1:/ :(B

683417*
1:/ :(B

683151*
1:/ :(B

778057*
1@ @(

778049*
1@& @(/

778017*
1@ @(

778025*
1@0 @(B

778017*
1@& @(/

778225*
1B B((

778217*
1B	 B(

778257*
1B+ B(@

773951*
1B+ B(@

778450*
1BA B(I

773651*
1B+ B(@

773917*
1B+ B(@

773651*
1B+ B(@

778225*
1C C(!

778217*
1C	 C(

778257*
1C$ C(7

776251*
1C$ C(7

776450*
1C8 C(<

772651*
1C$ C(7

772917*
1C$ C(7

772651*
1C$ C(7

778025*
1D D(#

778017*
1D	 D(

778057*
1D& D(;

773951*
1D& D(;

778650*
1D< D(G

773651*
1D& D(;

773917*
1D& D(;

773651*
1D& D(;

889149*
1J" J(/

889125*
1J0 J(=

889117*
1J" J(/

884451*
1K	 K(

889350*
1K K(,

88617*
1K	 K(

88651*
1K	 K(

884417*
1K K(

884151*
1K K(

889151*
1K- K(:

889550*
1K; K(F

975557*
1N N(

975517*
1N N(

975825*
1O O(#

975817*
1O	 O(

975857*
1O& O(7

976251*
1O& O(7

9710050*
1O8 O(@

971851*
1O& O(7

972317*
1O& O(7

971851*
1O& O(7

975525*
1P P(!

975517*
1P	 P(

975557*
1P$ P(7

973451*
1P$ P(7

976650*
1P8 P(C

973151*
1P$ P(7

973417*
1P$ P(7

973151*
1P$ P(7

1025557*
1U U(

1025517*
1U U(

1025825*
1V V('

1025817*
1V	 V(

1025857*
1V* V(;

1026251*
1V* V(;

10210050*
1V< V(D

1021851*
1V* V(;

1022317*
1V* V(;

1021851*
1V* V(;

1025851*
1W	 W(

10210550*
1W W(.

1025825*
1X X(

1025817*
1X	 X(

1025857*
1X" X(3

1026251*
1X" X(3

1026450*
1X4 X(8

1021851*
1X" X(3

1022317*
1X" X(3

1021851*
1X" X(3

1025525*
1Y Y(

1025517*
1Y	 Y(

1025557*
1Y" Y(5

1023451*
1Y" Y(5

1026650*
1Y6 Y(A

1023151*
1Y" Y(5

1023417*
1Y" Y(5

1023151*
1Y" Y(5

1075557*
1^ ^(

1075517*
1^ ^(

1075825*
1_ _(#

1075817*
1_	 _(

1075857*
1_& _(7

1072351*
1_& _(7

10711050*
1_8 _(O

1071851*
1_& _(7

1072317*
1_& _(7

1071851*
1_& _(7

1075525*
1` `(!

1075517*
1`	 `(

1075557*
1`$ `(7

1073451*
1`$ `(7

1076650*
1`8 `(C

1073151*
1`$ `(7

1073417*
1`$ `(7

1073151*
1`$ `(7

1125557*
1e e(

1125517*
1e e(

1125825*
1f f('

1125817*
1f	 f(

1125857*
1f* f(;

1122351*
1f* f(;

11211050*
1f< f(S

1121851*
1f* f(;

1122317*
1f* f(;

1121851*
1f* f(;

1125851*
1g	 g(

11211550*
1g g(*

1125825*
1h h(

1125817*
1h	 h(

1125857*
1h" h(3

1126251*
1h" h(3

1126450*
1h4 h(8

1121851*
1h" h(3

1122317*
1h" h(3

1121851*
1h" h(3

1125525*
1i i(

1125517*
1i	 i(

1125557*
1i" i(5

1123451*
1i" i(5

1126650*
1i6 i(A

1123151*
1i" i(5

1123417*
1i" i(5

1123151*
1i" i(5